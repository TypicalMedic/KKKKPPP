@model DBAddViewModel
<div class="row mt-5 mb-2">
    <h4>Принятие картины на учет</h4>
    <form enctype="multipart/form-data" class="row mt-5 mb-2" method="post" action="/DBAdd/Картина" id="base">
        <div class="col-lg-4">
            <p>
                <h6>Название</h6>
                <input type="text" name="Название" required />
            </p>
        </div>
        <div class="col-lg-4">
            <p>
                <h6>Дата приема</h6>
                <input type="date" name="ДатаПриема" onchange="checkDate()" required id="in"/>

            </p>
        </div>
        <div class="col-lg-4">
            <p>
                <h6>Дата окончания хранения</h6>
                <p id="mes"></p>
                <input type="date" name="ДатаОкончания" onchange="checkDate()" id="out"/>
            </p>
        </div>
        <script>
            function checkDate() {
                if (document.getElementById("out").valueAsDate <= document.getElementById("in").valueAsDate ) {
                    document.getElementById("mes").textContent = "Введите дату, которая позднее даты приема!";
                    document.getElementById("out").valueAsDate = null;
                }
            }
        </script>
        <div class="col-lg-4">
            <p>
                <h6>Цель передачи</h6>
                <input type="text" name="ЦельПередачи" required />
            </p>
        </div>
        <div class="col-lg-4" lang="ru">
            <p>
                <h6>Ширина</h6>
                <input type="number" id="Width" name="Ширина" min="0.01" step="0.01" required> см

            </p>
        </div>
        <div class="col-lg-4" lang="ru">
            <p>
                <h6>Высота</h6>
                <input type="number" id="Height" name="Высота" min="0.01" step="0.01" required> см

            </p>
        </div>
        <div class="col-lg-4">
            <p>
                <h6>Техника</h6>
                <select required name="Техника">
                    <option></option>
                    @foreach (var x in Model.allTechniques)
                    {
                        <option value="@x.Код_техники">@x.НазваниеТехники</option>
                    }
                </select>
            </p>
        </div>
        <div class="col-lg-4">
            <p>
                <h6>Состояние</h6>
                <select required name="Состояние">
                    <option></option>
                    @foreach (var x in Model.allCondit)
                    {
                        <option value="@x.Код_состояния">@x.Состояние</option>
                    }
                </select>
            </p>
        </div>
        <div class="col-lg-4">
            <p>
                <h6>Статус</h6>
                <select required name="Статус">
                    <option></option>
                    @foreach (var x in Model.allStatus)
                    {
                        <option value="@x.Код_статуса">@x.Статус</option>
                    }
                </select>
            </p>
        </div>
        <div class="col-lg-4">
            <p>
                <h6>Автор</h6>
                <select required name="Автор">
                    <option></option>
                    @foreach (var x in Model.allAuthors)
                    {
                        <option value="@x.Код_автора">@x.ФИО</option>
                    }
                </select>
            </p>
        </div>
        <div class="col-lg-4">
            <p>
                <h6>Страна создания</h6>
                <select required name="СтранаСоздания">
                    <option></option>
                    @foreach (var x in Model.allCountries)
                    {
                        <option value="@x.Код_страны">@x.НазваниеСтраны</option>
                    }
                </select>
            </p>
        </div>
        <div class="col-lg-4">
            <p>
                <h6>Жанр</h6>
                <select required name="Жанр">
                    <option></option>
                    @foreach (var x in Model.allJanres)
                    {
                        <option value="@x.Код_жанра">@x.НазваниеЖанра</option>
                    }
                </select>
            </p>
        </div>
        <div class="col-lg-4">
            <p>
                <h6>Стиль</h6>
                <select required name="Стиль">
                    <option></option>
                    @foreach (var x in Model.allStyles)
                    {
                        <option value="@x.Код_стиля">@x.НазваниеСтиля</option>
                    }
                </select>
            </p>
        </div>
        <div class="col-lg-4">
            <p>
                <h6>Год создания</h6>
                <h6>(0-@DateTime.Now.Year)</h6>
                <input type="number" id="Width" name="ГодСоздания" min="0" max="@DateTime.Now.Year" />

            </p>
        </div>
        <div class="col-lg-4">
            <p>
                <h6>Материал(ы)</h6>
                <h6>Можно выбрать несколько</h6>
                <p><span id="selmat"></span></p>
                <select multiple required name="materials" size="5" id="mat" onchange="printmat()">
                    @foreach (var x in Model.allMaterials)
                    {
                        <option value="@x.Код_материала">@x.НазваниеМатериала</option>
                    }
                </select>
            </p>
        </div>
        <div class="col-lg-4">
            <p>
                <h6>Цифровая версия картины</h6>
                <input type="file" accept=".jpg" name="PicFile" />
            </p>
        </div>
    </form>
    <button form="base">Принять на учет</button>
</div>
<script>
    function printmat() {
        document.getElementById("selmat").textContent = getSelectValues(document.getElementById("mat"));
    }
    function getSelectValues(select) {
        var result = "Выбранные материалы: \n";
        var options = select && select.options;
        var opt;

        for (var i = 0, iLen = options.length; i < iLen; i++) {
            opt = options[i];

            if (opt.selected) {
                result = result + " " + opt.text;
            }
        }
        return result;
    }
</script>
